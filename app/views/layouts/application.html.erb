<!DOCTYPE html>
<html>
  <head>
    <title>Comunidade RPG</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=MedievalSharp&display=swap" rel="stylesheet">
  </head>

  <body>
    <% if current_user %>
      <nav class="navbar navbar-expand-lg navbar-light bg-primary">
        <a
          href="/"
          style="font-size: 1.5rem"
          class="navbar-brand font-weight-bold text-white">
          RPG
        </a>

        <button
          type="button"
          class="navbar-toggler"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation">

          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          id="navbarSupportedContent"
          style="font-size: 1.25rem"
          class="collapse navbar-collapse">

          <ul class="navbar-nav mr-auto">
            <li class="nav-item dropdown">
              <a
                role="button"
                id="navbarDropdown"
                aria-haspopup="true"
                aria-expanded="false"
                data-toggle="dropdown"
                class="nav-link dropdown-toggle font-weight-bold text-white">
                Mesas
              </a>

              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/tables/users/<%= current_user.id %>">
                  Minhas mesas
                </a>

                <a class="dropdown-item" href="/tables">
                  Mesas disponíveis
                </a>
              </div>
            </li>

            <li class="nav-item dropdown">
              <a
                role="button"
                id="navbarDropdown"
                aria-haspopup="true"
                aria-expanded="false"
                data-toggle="dropdown"
                class="nav-link dropdown-toggle font-weight-bold text-white">
                Usuários
              </a>

              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/masters">
                  Mestres
                </a>

                <a class="dropdown-item" href="/players">
                  Jogadores
                </a>
              </div>
            </li>
          </ul>

          <div class="nav-item dropdown">
            <a
              role="button"
              id="navbarDropdown"
              aria-haspopup="true"
              aria-expanded="false"
              data-toggle="dropdown"
              class="nav-link dropdown-toggle font-weight-bold text-white">
              <%= current_user.name.capitalize %>
            </a>

            <div
              class="dropdown-menu"
              style="margin-left: -3em"
              aria-labelledby="navbarDropdown">

              <a class="dropdown-item" href="/users/edit">
                <i class="material-icons position-absolute">
                  person_outline
                </i>

                <span style="margin-left: 30px">Perfil</span>
              </a>

              <%= button_to '/masters/enable/' + current_user.id.to_s,
                            method: :get, class: "btn ml-4 px-0" do %>
                <i class="material-icons position-absolute">
                  library_books
                </i>

                <span style="margin-left: 30px">Mestre</span>
                <%end %>
              <%= button_to'/players/enable/' + current_user.id.to_s,
                            method: :get, class: "btn ml-4 px-0" do%>
                <i class="material-icons position-absolute">
                  explore
                </i>

                <span style="margin-left: 30px">Jogador</span>
              <%end %>

              <%= button_to "/users/sign_out",
                            method: :delete, class: "btn ml-4 px-0" do %>

                <i class="material-icons position-absolute">
                  exit_to_app
                </i>

                <span style="margin-left: 30px">Sair</span>
              <% end %>
            </div>
          </div>
        </div>
      </nav>
    <% end %>

    <%= yield %>
  </body>
</html>
